/*!
Sselect.
Version: 1.1 (05.07.2012)
https://github.com/trolev/sslect/
*/
jQuery.fn.sselect=function(a){var b=jQuery.extend({create:function(c){},select:function(c){}},a);this.each(function(){var i=$(this);if(!i.is("select")){var i=$("select",this);if(!i.length){alert("error sselect");return}}var h=i.next(".sselect").length;if(!h){create(i)}var g=i.next(".sselect");var e=$(".sselect-text",g);var c=$(".txt",g);var d=$(".sselect-list",g);var f="";if($("optgroup",i).length){$("optgroup",i).each(function(){var k=$(this);var j=k.attr("label")?k.attr("label"):"";f+='<span class="sselect-label">'+j+"</span>";f+=createUl(k)})}else{f+=createUl(i)}d.html(f);b.create($(":selected",i));e.unbind("click.sselect").bind("click.sselect",function(){g.toggleClass("sselect-open");$(".sselect-open").not(g).removeClass("sselect-open");return false});fun_selected(i,c,d);i.unbind("change.sselect").bind("change.sselect",function(){fun_selected(i,c,d);b.select($(":selected",i))});$("a",d).unbind("click.sselect").bind("click.sselect",function(k){var j=$("a",d).index($(k.target));$("option",i).eq(j).attr("selected","selected");i.change();return false});i.hide()})};function create(a){a.after('<div class="sselect"><div class="sselect-text"><span class="txt"></span><i class="icon"></i></div><div class="sselect-list"></div></div>')}function createUl(b){var a="<ul class='sselect-ul'>";$("option",b).each(function(){var d=$(this);var c=d.text();a+="<li><a href='#'>"+c+"</a></li>"});a+="</ul>";return a}function fun_selected(e,a,c){var d=$(":selected",e);var b=$("option",e).index(d);a.html(d.text());$(".selected",c).removeClass("selected");$("li",c).eq(b).addClass("selected");$(".sselect-open").removeClass("sselect-open")}$(document).unbind().bind("click",function(a){if($(a.target).closest(".sselect").length){return}else{$(".sselect-open").removeClass("sselect-open")}});